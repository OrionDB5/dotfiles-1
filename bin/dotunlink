#!/bin/sh
# written by Shotaro Fujimoto (https://github.com/ssh0)
# first edited: 2015-09-13

# dotunlink
# Unlink the symbolic link mangaed by dotfiles and copy the file from the repository.
#
# Usage: dotunlink FILE [FILE2 FILE3 ...]

for f in $@; do
  # Get the file's path
  filename="$(basename $f)"
  currentpath="$(cd $(dirname $f); pwd)"/"${filename}"

  # Get the absolute path
  abspath="$(readlink $f)"

  # Unlink the file
  unlink "$currentpath"

  # Copy the file
  cp "$abspath" "$currentpath"
done
